# 设置静态页面缓存

DDoS高防在流量清洗中心集成了网页缓存技术，在为网站业务提供DDoS防护的同时还可以加速网站静态页面的访问。

您的网站业务已接入增强功能套餐的DDoS高防实例。更多信息，请参见[添加网站](/cn.zh-CN/DDoS高防（新BGP&国际）用户指南/接入DDoS高防/域名接入/添加网站.md)。

网站业务接入DDoS高防后，您可以为网站开启静态页面缓存功能。开启静态页面缓存后，DDoS高防将从客户端对网站域名的访问请求中自动检测符合缓存策略的资源类型，并缓存相关页面。已缓存页面将被写入网站对应的DDoS防护节点中，在下次客户端请求页面时直接返回，提升页面访问速度。

静态页面缓存也支持自定义规则，方便您只为指定的页面开启缓存功能。

1.  登录[DDoS高防控制台](https://yundun.console.aliyun.com/?p=ddoscoo)。

2.  在顶部菜单栏左上角处，选择服务所在地域：

    -   **中国内地**：选择该地域将跳转到**DDoS高防（新BGP）**控制台。
    -   **非中国内地**：选择该地域将跳转到**DDoS高防（国际）**控制台。
    您可以通过切换地域分别管理和配置DDoS高防（新BGP）和DDoS高防（国际）实例。在使用DDoS高防服务时，请确认您已选择正确的地域。

3.  在左侧导航栏，选择**DDoS防护实验室** \> **网站加速**。

4.  在页面上方，选择要操作的域名。

    **说明：** 域名必须关联了增强功能的DDoS高防实例，才可以开启静态页面缓存。

5.  定位到**静态页面缓存**区域，选择一种缓存**模式**，并开启**状态**开关。

    不同缓存模式的说明如下：

    -   **标准**：被请求页面包含静态文件资源（CSS、JS、TXT）时，缓存相关页面。
    -   **增强**：缓存所有被请求的页面。
    -   **不缓存**：不缓存任何被请求的页面。
    ![静态页面缓存](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/3151919951/p49578.png)

    为域名开启静态页面缓存后，缓存策略对域名下所有URI生效。

    如果您希望只对指定的URI开启缓存功能，建议您将缓存**模式**设置为**不缓存**，并参照下一步自定义静态页面缓存规则。

6.  为域名下指定URI（目录）自定义静态页面缓存规则。

    1.  在**静态页面缓存**区域，单击**设置**。

    2.  单击**新增规则**。

        **说明：** 最多允许添加3条自定义规则。

        ![新增规则 ](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1076911161/p73065.png)

    3.  在**新增规则**对话框，完成以下规则配置，并单击**确定**。

        ![新增规则](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/3151919951/p49577.png)

        |参数|说明|
        |--|--|
        |**规则名称**|设置规则的名称。 支持使用英文字母、数字或下划线（\_）。长度不允许超过128个字符。 |
        |**URI**|要缓存的页面的URI。 **URI**中无需填写请求参数，且不支持使用通配符。

示例：填写`/a/`表示`<域名>/a/`路径下的所有页面。 |
        |**模式**|选择要应用的缓存策略。可选项：**标准模式**、**强力模式**、**不缓存**。 关于不同缓存策略的含义，请参见[步骤5中的说明](#step_pls_iu0_06r)。 |
        |**过期时间缓存**|选择缓存的有效时间。默认为**遵循源站配置**（表示使用与源站配置的缓存时间相同的配置），也可以设置为**1小时**、**1天**、**10天**、**30天**。|

        成功添加针对指定URI的自定义规则后，自定义规则将优先于针对域名的缓存策略生效。您可以在规则列表中查看新增的规则，并根据需要**编辑**、**删除**规则。您也可以单击**刷新缓存**，手动强制刷新对应页面的缓存。


